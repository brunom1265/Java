package bvsm.panel.privilege;

import java.awt.event.ActionEvent;

import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.table.DefaultTableModel;

import bvsm.panel.BasePanel;
import bvsm.panel.tools.ComboBoxManager;
import bvsm.questions.Questions;

public class QuestionManager extends BasePanel{

	DefaultTableModel model;
	Questions questions;

	
	public QuestionManager(BasePanel previous, JFrame frame, String name, int x, int y, int width, int height) {
		super(previous, frame, name, x, y, width, height);
	}

	protected void createComponents() {
		
		String[][] topic = { { "Incêndio", "Saúde", "Comunicações" } };

		String[][] subTopic = { { "Geral", "Florestal", "Urbano" }, { "TS", "TAT", "TAS" }, { "Radios" } };

		String[][][] subsubTopic = { { { "Fenomenologia da Combustão" }, { "Extintores", "Bombas" }, { "EPI", "Hidrantes" } },
				{ { "SBV", "PCR" }, { "Abordagem da Vítima", "2" }, { "123", "456" } }, { { "Tipos" } } };

		cbm = new ComboBoxManager(this, subsubTopic, topic, subTopic);

		createButton("Perguntas", 230, 100);
		
		createButton("Adicionar Pergunta", 100, 550, 145, 35, false);
		createButton("Eliminar Pergunta", 250, 550, 145, 35, false);
		createButton("Gravar", 400, 550, 135, 35, false);
		
		createComboBox(topic, "topic", 100, 180, 150, 30, false);
		createComboBox(subTopic, "subTopic", 280, 180, 150, 30, false);
		createComboBox(subsubTopic, "subsubTopic", 460, 180, 150, 30, false);

		
		String[] questionsHeader = { "Pergunta", "Resposta 1", "Resposta 2", "Resposta 3", "Resposta 4" };

		createTable("questionTable", 100, 250, 900, 270, false, questionsHeader, this.jpanel);

		questions = new Questions(cbm, db);
		//createTable("mainTable", 0, 4, 100, 250, 600, 270);
		
		//model = (DefaultTableModel) getTable("mainTable").getModel();
		
		
	}
	
	public void actionPerformed(ActionEvent e) {
		if(e.getActionCommand() == "comboBoxChanged"){
    		JComboBox<String> cb = (JComboBox<String>) e.getSource();
    		if(cb.isPopupVisible()){
    			cbm.updateCombo(cb, getComboBox("topic"), getComboBox("subTopic"), getComboBox("subsubTopic"));
    		}
        }
	}

}
