package bvsm.users;

import java.util.ArrayList;

import javax.swing.table.DefaultTableModel;

import bvsm.database.Database;

public class UsersManager {
	
	public int size = 0;
	int rowSize = 0, columnSize = 0;
	boolean save = false;
	
	Database db;
	DefaultTableModel model;
	
	ArrayList<String> name = new ArrayList<String>();
	ArrayList<String> surname = new ArrayList<String>();
	ArrayList<String> age = new ArrayList<String>();
	ArrayList<String> username = new ArrayList<String>();
	ArrayList<String> password = new ArrayList<String>();
	ArrayList<String> type = new ArrayList<String>();

	
	public UsersManager(Database db) {
		this.db = db;
	}
	
	public void addUser(DefaultTableModel model){
		this.model = model;
		if(!save){
			rowSize = model.getRowCount();
			columnSize = model.getColumnCount();

			save = true;
		}
		
		model.addRow(new Object[]{"", "", "", "", "", ""});
		name.add("");
		surname.add("");
		age.add("");
		username.add("");
		password.add("");
		type.add("");
		
		size++;
		System.out.println(size);

		save = false;
	}
	
	public void saveUsers(){
		for(int x = rowSize; x < (rowSize + size); x++){
			db.addUser(x, (String)model.getValueAt(x,  4), (String)model.getValueAt(x,  5), (int)model.getValueAt(x,  6), (String)model.getValueAt(x,  0), (String)model.getValueAt(x,  1), (int)model.getValueAt(x,  2));
		}
		size = 0;
		save = false;
	}
	
}
